(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de903af0"],{"637a":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.$store.state.staffList,height:"90vh","highlight-current-row":!0}},[t("el-table-column",{attrs:{prop:"id",label:"员工号",sortable:"",width:"200","column-key":"id"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200","column-key":"name"}}),t("el-table-column",{attrs:{prop:"personalId",label:"身份证",sortable:"",width:"200","column-key":"personalId"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别","min-width":"100","column-key":"sex"}}),t("el-table-column",{attrs:{prop:"jobName",label:"工作职位",width:"200","column-key":"jobName"}}),t("el-table-column",{attrs:{width:"250","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkStaffInfo(a.row.id)}}},[e._v("修改信息")])]}}])})],1),t("el-dialog",{attrs:{title:"修改信息",visible:e.dialogTableVisible},on:{"update:visible":function(a){e.dialogTableVisible=a}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,"label-position":"left",model:e.dialogData,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"员工号",prop:"id"}},[t("el-input",{attrs:{placeholder:"姓名"},model:{value:e.dialogData.id,callback:function(a){e.$set(e.dialogData,"id",a)},expression:"dialogData.id"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"姓名"},model:{value:e.dialogData.name,callback:function(a){e.$set(e.dialogData,"name",a)},expression:"dialogData.name"}})],1),t("el-form-item",{attrs:{label:"身份证",prop:"personalId"}},[t("el-input",{attrs:{placeholder:"身份证","show-word-limit":!0},model:{value:e.dialogData.personalId,callback:function(a){e.$set(e.dialogData,"personalId",a)},expression:"dialogData.personalId"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"phone"}},[t("el-input",{attrs:{placeholder:"电话"},model:{value:e.dialogData.phone,callback:function(a){e.$set(e.dialogData,"phone",a)},expression:"dialogData.phone"}})],1),void 0!==e.dialogData.wage?t("el-form-item",{attrs:{label:"工资",prop:"wage"}},[t("el-input",{attrs:{placeholder:"工资"},model:{value:e.dialogData.wage,callback:function(a){e.$set(e.dialogData,"wage",a)},expression:"dialogData.wage"}})],1):e._e(),t("el-form-item",{attrs:{label:"权限等级",prop:"level"}},[t("el-input",{attrs:{placeholder:"权限"},model:{value:e.dialogData.level,callback:function(a){e.$set(e.dialogData,"level",a)},expression:"dialogData.level"}})],1),t("el-form-item",{attrs:{label:"职位",prop:"jobName"}},[t("el-input",{attrs:{placeholder:"职位"},model:{value:e.dialogData.jobName,callback:function(a){e.$set(e.dialogData,"jobName",a)},expression:"dialogData.jobName"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-radio",{attrs:{label:"男"},model:{value:e.dialogData.sex,callback:function(a){e.$set(e.dialogData,"sex",a)},expression:"dialogData.sex"}},[e._v("男")]),t("el-radio",{attrs:{label:"女"},model:{value:e.dialogData.sex,callback:function(a){e.$set(e.dialogData,"sex",a)},expression:"dialogData.sex"}},[e._v("女")])],1),t("el-form-item",{staticClass:"btnDiv"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确认")]),t("el-button",{on:{click:e.close}},[e._v("取消")]),t("el-popconfirm",{attrs:{title:"确认注销此人？"},on:{confirm:e.resign}},[t("el-button",{staticClass:"resignBtn",attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("注销")])],1)],1)],1)],1)],1)},o=[],n=t("1da1"),r=(t("96cf"),t("365c")),i={name:"StaffManagement",data:function(){return{dialogTableVisible:!1,dialogData:{id:"",name:"",personalId:"",sex:"",phone:"",level:"",jobName:""}}},methods:{checkStaffInfo:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["d"])({token:window.localStorage.token,id:e});case 2:if(l=t.sent,a.checkAxios(l)){t.next=5;break}return t.abrupt("return");case 5:a.dialogData=l.data.data,a.dialogTableVisible=!0;case 7:case"end":return t.stop()}}),t)})))()},close:function(){this.dialogTableVisible=!1,this.dialogData={id:"",name:"",personalId:"",sex:"",phone:"",level:"",jobName:""}},submitForm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(r["f"])({token:window.localStorage.token,data:e.dialogData},{headers:{"Content-Type":"application/json"}});case 2:if(t=a.sent,e.checkAxios(t)){a.next=5;break}return a.abrupt("return");case 5:e.$message({message:"成功修改",type:"success"}),e.dialogTableVisible=!1,e.dialogData={id:"",name:"",personalId:"",sex:"",phone:"",level:"",jobName:""};case 8:case"end":return a.stop()}}),a)})))()},resign:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$message({message:"成功辞职",type:"success"}),e.dialogTableVisible=!1,e.dialogData={id:"",name:"",personalId:"",sex:"",phone:"",level:"",jobName:""};case 3:case"end":return a.stop()}}),a)})))()},updateStaffInfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(r["i"])(window.localStorage.token);case 2:if(t=a.sent,e.checkAxios(t)){a.next=5;break}return a.abrupt("return");case 5:e.$store.commit("updateStaffList",t.data.data),e.$message({message:"获取成功",type:"success"});case 7:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.updateStaffInfo()}},s=i,c=(t("73d9"),t("2877")),d=Object(c["a"])(s,l,o,!1,null,"889a6cd2",null);a["default"]=d.exports},"73d9":function(e,a,t){"use strict";t("827f")},"827f":function(e,a,t){}}]);
//# sourceMappingURL=chunk-de903af0.eff5fa5e.js.map